!function(e){e.FLTASAUSURA=function(t){var a=this,n=e.extend({},{url:"/api/dataentities/__DATA_ENTITY__/search",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json","Rest-Range":"resources=0-60"},tasasUsuara:[],getTasasUsuara:!0,dataEntity:"TU",elementPorcent:".item__showcase_new__destaques__descuentos__perce",cardItem:".item__showcase",elementPriceItem:".item__showcase_new__price-bestr",elementSectionTasaUsura:".item__showcase__dues",elementSetCuotas:".item__showcase__due__nInstall",elementSetCuotasPrice:".item__showcase__due__price",decimalesCuotas:0,decimalesCuotasPrice:0,elementPriceDirefencial:".item__showcase__dues p",elementGetDataGetSkuid:"article.item__showcase_new",nameDataSkuid:"id",activePriceDiferencial:!1,configAjaxDiferencial:{url:"https://soat-flamingo.apps-brandlive.co/getDiferencialSku",type:"POST",headers:{accept:"application/json",Authorization:"469355200cdaa29acf2f4943f19b02ae"},timeout:0,dataType:"json",data:{skuId:""}},fieldDiferencial:"diferencial",getSkuPorApiProduct:!1,contenAfterDiferencial:"",contenBeforeDiferencial:""},t||{});return a.porcentItemPaleta=function(){1==n.getTasasUsuara?a.setTasaUsuara():(a.ocultarItemSinOferta(),e(document).find(n.elementPorcent).each(function(t){e(this).find("p").each(function(){if(!e(this).hasClass("flag"))if("0"==e(this).text())e(this).fadeOut();else if(e(this).text().trim().indexOf("%")>-1){e(this).addClass("porcents");var t=e(this).text().trim();t=(t=t.replace(/\,.*/g,"")).replace(/%/g,""),e(this).text(t+"%")}})})),1==n.activePriceDiferencial&&a.startPriceDiferencial()},a.setTasaUsuara=function(){a.getTasaUsuraMefia().then(function(e){n.tasasUsuara=e,n.getTasasUsuara=!1,a.porcentItemPaleta()})},a.getTasaUsuraMefia=function(){return e.ajax({url:n.url.replace("__DATA_ENTITY__",n.dataEntity),type:"GET",headers:n.headers,timeout:0,dataType:"json",data:{_fields:"cuotas,rango_inicial,rango_tope,tasa_interes"}}).done(function(e){return e}).fail(function(e){return{error:e}})},a.ocultarItemSinOferta=function(){e(document).find(n.cardItem).each(function(){if(e(this).find(n.elementPriceItem).length>0){var t=e(this).find(n.elementPriceItem).text().replace(/\./g,"").replace("$",""),i=0,r=0;e.each(n.tasasUsuara,function(e,a){0==parseFloat(a.rango_tope)&&parseFloat(t)>parseFloat(a.rango_inicial)?(i=a.cuotas,r=parseFloat(t)*parseFloat(a.tasa_interes)):parseFloat(t)>parseFloat(a.rango_inicial)&&parseFloat(t)<parseFloat(a.rango_tope)&&(i=a.cuotas,r=parseFloat(t)*parseFloat(a.tasa_interes))}),e(this).find(n.elementSetCuotas).html(a.currency(i,n.decimalesCuotas,",",".")),e(this).find(n.elementSetCuotasPrice).html("$"+a.currency(r,n.decimalesCuotasPrice,",",".")),e(this).find(n.elementSectionTasaUsura).fadeIn()}else e(this).find(n.elementSectionTasaUsura).fadeOut()})},a.currency=function(e,t,a,n){var i=t,r=a||",",o=n||".";try{i=Math.abs(i),i=isNaN(i)?2:i;var c=e<0?"-":"",l=parseInt(e=Math.abs(Number(e)||0).toFixed(i)).toString(),s=l.length>3?l.length%3:0;return c+(s?l.substr(0,s)+o:"")+l.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+o)+(i?r+Math.abs(e-l).toFixed(i).slice(2):"")}catch(e){}},a.startPriceDiferencial=function(){e(document).find(n.elementPriceDirefencial).length>0&&e.each(e(document).find(n.elementPriceDirefencial),function(){if(1==n.getSkuPorApiProduct){var t=e(this).parents(n.elementGetDataGetSkuid).data(n.nameDataSkuid);e(this).fadeOut(),a.getInfoProduct(t,e(this))}else{var i=e(this).parents(n.elementGetDataGetSkuid).data(n.nameDataSkuid);a.getDiferencialSku(i,e(this))}})},a.getDiferencialSku=function(t,i){var r="",o=(r=n.configAjaxDiferencial).url,c=r.data.skuId;o=o.replace("{!skuid}",t),c=t,r.url=o,r.data.skuId=c,e.ajax(r).done(function(t){t?a.setDataDiferencial(t,i):e(i).fadeIn()}).fail(function(t){return e(i).fadeIn(),{error:t}})},a.setDataDiferencial=function(t,i){var r=0;t.fixedPrices&&"object"!=typeof t.fixedPrices&&(e.each(t.fixedPrices,function(e,t){t.tradePolicyId==n.fieldDiferencial&&(r=t.value)}),r>0&&i.html(n.contenBeforeDiferencial+"$"+a.currency(r,n.decimalesCuotas,",",".")+n.contenAfterDiferencial))},a.getInfoProduct=function(t,n){e.ajax({url:"/api/catalog_system/pub/products/search/?fq=productId:"+t,type:"GET",headers:{"Content-Type":"application/json","cache-control":"no-cache"},timeout:0,dataType:"json",data:{}}).done(function(t){e(n).fadeIn(),"object"==typeof t&&t.length>0&&t[0].items[0].itemId&&a.getDiferencialSku(t[0].items[0].itemId,n)}).fail(function(t){e(n).fadeIn(),console.log({error:t})})},e(document).ready(function(){a.porcentItemPaleta()}),a}}(jQuery),function(e){var t={url:"/api/dataentities/__DATA_ENTITY__/documents",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json"},idForm:"",urlGracias:"",datosForm:{},activarPlantilla:!1,plantillaHtml:"",dataEntity:"",rutaFile:"",listaFiles:[],timeout:2e3,reload:!1,popup:{habilitar:!1,idModal:""},functionRes:"",callback:e=>{}};e.FORM_MASTERDATA=function(a){var n=this,i=e.extend({},t,a||{});n.crearContacto=function(){if(e.isEmptyObject(i.datosForm)){var t=e(i.idForm).serialize();t=this.getVariables(t),i.datosForm=t}i.url=i.url.replace("__DATA_ENTITY__",i.dataEntity),this.subirDatoMasterData()},n.getVariables=function(e){for(var t=e.split("&"),a={},n=0,i=t.length;n<i;n++){var r=t[n].split("=");a[r[0]]=unescape(decodeURI(r[1])),a[r[0]]=a[r[0]].replace(/\+/g," ")}return a},n.subirDatoMasterData=function(){e.ajax({headers:i.headers,data:JSON.stringify(i.datosForm),type:"PATCH",url:i.url,success:function(e,t,a){"200"!=a.status&&"201"!=a.status||(n.subirFileMasterData(e),i.reload&&setTimeout(function(){location.reload()},1e3),i.functionRes&&null!=i.functionRes&&""!=i.functionRes&&window[i.functionRes](e),i.callback(e))},error:function(e){console.log(e)}})},n.subirFileMasterData=function(t){var a=i.listaFiles.length;if(0==a)return""!=i.urlGracias&&null!=i.urlGracias&&0==i.activarPlantilla?window.location.href=i.urlGracias:1==i.popup.habilitar?e("#"+i.popup.idModal).modal("show"):n.plantillaGracias(),void e(i.idForm)[0].reset();var r=e(i.idForm);e.each(i.listaFiles,function(o,c){var l;l=r.find('input[name="'+c+'"]').prop("files")[0];var s="";(s=new FormData).append(c,l);var u;u=i.url+"/"+t.DocumentId+"/"+c+"/attachments",e.ajax({data:s,type:"POST",url:u,cache:!1,enctype:"multipart/form-data",contentType:!1,processData:!1,success:function(t){o==a-1&&(""!=i.urlGracias&&null!=i.urlGracias&&0==i.activarPlantilla?window.location.href=i.urlGracias:(e(i.idForm)[0].reset(),1==i.popup.habilitar?e("#"+i.popup.idModal).modal("show"):n.plantillaGracias()))},error:function(e){console.log(e)}})})},n.plantillaGracias=function(){var t='<div class="success_ok"><h3 class="_tt">Â¡GRACIAS POR SUSCRIBIRTE!</h3><h6>Tus datos se guardaron exitosamente.</h6></div>';null!=i.plantillaHtml&&""!=i.plantillaHtml&&(t=i.plantillaHtml),e(i.idForm).html(t)},e(i.idForm).submit(function(t){t.preventDefault(),e(i.idForm).find('button[type="submit"]').remove(),n.crearContacto()})}}(jQuery),function(e){var t={elementActive:".item__showcase_new__buy a",idVistaVtexProd:"eb84d761-69c2-4ac4-b544-1169a0deebe8",idVistaVtexQA:"92766ad0-dbec-4223-bd71-9c4591c58dbf",ambienteProductivo:!1,containerQuickview:".containerQuickview",callback:()=>{}};e.COMPRARAPIDA=function(a){var n=this,i=e.extend({},t,a||{});n.openQuickview=function(){var t="";t=i.idVistaVtexQA,1==i.ambienteProductivo&&(t=i.idVistaVtexProd),e(document).find(i.elementActive).each(function(a,r){e(this).on("click",function(a){a.preventDefault();var r=a.target.href;r&&(r=r+"?lid="+t+"&iframe=true",e(document).find(i.containerQuickview).addClass("active"),e(document).find(i.containerQuickview).html(""),e(document).find(i.containerQuickview).html(`<div class="content-iframe"><button class="closeQuickviewButton"></button><iframe style="width:100%; height:100%" src="${r}"></iframe><div>`),n.closeQuick())})})},n.closeQuick=function(){e(document).find(".closeQuickviewButton").length>0&&e(document).on("click",".closeQuickviewButton",function(t){i.callback(),e(document).find(i.containerQuickview).removeClass("active")})},e(document).ready(function(){n.openQuickview()})}}(jQuery),function(e){var t={elementInsertAfter:".section-result-product-content .cardProductNew .cardProductNew ul",frecuencia:6,clase:"bannerCategoria",contentBanner:"#bannersBusquedaAleatoria .box-banner",infinito:!0};e.LOADBANNERCATEGORY=function(a){var n=this,i=e.extend({},t,a||{});n.cargarBannersCategory=function(){e(document).find(i.elementInsertAfter).length;var t=e(document).find(i.contentBanner).length,a=0,n=i.frecuencia;e(document).find(".section-banner-categoty-fl").remove(),e(document).find(i.elementInsertAfter).each(function(r,o){parseFloat(a)<parseFloat(t)?r==parseFloat(n)-1&&(n=parseFloat(n)+parseFloat(i.frecuencia),e(this).after(`<div class="${i.clase} section-banner-categoty-fl">${e(document).find(i.contentBanner).eq(a).html()}</div>`),a++):1==i.infinito&&(a=0)})},e(document).ready(function(e){n.cargarBannersCategory()})}}(jQuery),function(e){var t={elementActivador:"#minicartDeskt",elementPlantilla:"#templeteMinicart",elementContenedor:"#minicart",classShowMincart:"minicart-open",elementClose:".closeMinicart",elementCantidad:".numberofItems",elementAddCantidad:".item.cart-plus",elementMinusCantidad:".item.cart-minus",elementRemoveItem:".item-cart-remove",maxCaracterNameProduct:40,classFormatNumber:".format-moneda",addSimboloFormat:"$",dividirValores:100,numeroDecimales:0,caracterDecimal:",",caracterUnidad:".",elementSelectCantidad:".active-select-cantidad",activeSelectCantidad:!1,maxOpctionSelectCantidad:30,labelOption:"cant",totalizerIDItems:"Items",totalizerIDDiscounts:"Discounts"};e.MINICART=function(a){var n=this,i=e.extend({},t,a||{});return n.startMiniCart=function(){var t=e(document).find(i.elementContenedor);if(t.length>0){t.html("");var a=e(document).find(i.elementPlantilla);a.length>0&&vtexjs.checkout&&vtexjs.checkout.getOrderForm().then(function(e){n.setVariablesView({objectT:e,templeteV:a.html()})})}},n.setVariablesView=function({objectT:t={},templeteV:a=""}){var r=a,o=e(document).find(i.elementContenedor),c=e(document).find(i.elementCantidad),l=t.items.length;o.html(""),c.length>0&&c.text(l),t.subtotal=0,t.discount=0,e.each(t.totalizers,function(e,a){i.totalizerIDItems,a.id,i.totalizerIDDiscounts==a.id&&(t.discount=a.value)}),t.subtotal=parseFloat(t.value)+-1*parseFloat(t.discount),"object"==typeof t&&e.each(t,function(e,t){"string"!=typeof t&&"number"!=typeof t||(r=r.replace(new RegExp("{!"+e+"}","g"),t))}),o.html(r);var s=o.find('[data-loop="true"]');s.length>0&&e.each(s,function(){var a=e(this),r=a.html();a.html("");var o=t,c=e(this).data("loopname"),l=!0;c=c.split("."),e.each(c,function(e,t){o[t]?o=o[t]:l=!1}),0!=l?o&&"object"==typeof o&&(e.each(o,function(t,o){var c=r;o.totalPrice=parseFloat(o.price)*o.quantity,o.totalSellingPrice=parseFloat(o.sellingPrice)*o.quantity,o.totalListPrice=parseFloat(o.listPrice)*o.quantity,e.each(o,function(e,t){"string"!=typeof t&&"number"!=typeof t||("name"==e&&"string"==typeof t&&t.length>i.maxCaracterNameProduct&&(t=t.substring(0,i.maxCaracterNameProduct)+"..."),c=c.replace(new RegExp("{!"+e+"}","g"),t))});var l=n.setSelectCantidad(o);c=(c=c.replace(new RegExp("{!options}","g"),l)).replace(new RegExp("{!index}","g"),t),a.append(c)}),console.log("contentLoop",o,"keyLoop",c)):console.log("Debe enviar un objeto.")}),setTimeout(()=>{n.formatNumeroMinicart()},200)},n.setSelectCantidad=function(e){var t="";if(1==i.activeSelectCantidad)for(let a=0;a<i.maxOpctionSelectCantidad;a++){let n="";a+1==e.quantity&&(n="selected"),t+='<option value="'+(a+1)+'" '+n+">"+(a+1)+" "+i.labelOption+"</option>"}return t},n.eventSelectCantidad=function(){1==i.activeSelectCantidad&&e(document).find(i.elementSelectCantidad).length>0&&e(document).on("change",i.elementSelectCantidad,function(){var t=e(this).data("index");vtexjs.checkout.updateItems([{index:parseFloat(t),quantity:parseFloat(e(this).val())}],null,!1)})},n.setAccionsMinicart=function(){e(document).on("click",i.elementActivador,function(t){t.preventDefault(),e(document).find(i.elementContenedor).toggleClass(i.classShowMincart)}),e(document).on("click",i.elementClose,function(){e(document).find(i.elementContenedor).removeClass(i.classShowMincart)}),e(window).on("checkoutRequestEnd.vtex",function(t,a){n.startMiniCart(),e(document).find(i.elementContenedor).addClass(i.classShowMincart)}),e(document).on("click",i.elementRemoveItem,function(t){t.preventDefault();var a=e(this).data("index"),r=e(this).data("quantity");null!=r&&null!=a?vtexjs.checkout.removeItems([{index:parseFloat(a),quantity:parseFloat(r)}],null,!1).then(function(){n.startMiniCart(),e(document).find(i.elementContenedor).addClass(i.classShowMincart)}):console.log('validar que el elemento en la plantilla contenga data-index="{!index}" y data-quantity="{!quantity}"')})},n.formatNumeroMinicart=function(){var t=e(document).find(i.elementContenedor+" "+i.classFormatNumber);t.length>0&&e.each(t,function(){var t=e(this).text();i.dividirValores&&"number"==typeof i.dividirValores&&i.dividirValores>0&&(t=parseFloat(t)/parseFloat(i.dividirValores)),t=n.format_number(t,i.numeroDecimales,i.caracterDecimal,i.caracterUnidad),e(this).text(i.addSimboloFormat+t)})},n.format_number=function(e,t=2,a=",",n="."){try{t=null==t?2:t,a=null==a?".":a,n=null==n?",":n,t=Math.abs(t),t=isNaN(t)?2:t;const o=e<0?"-":"";var i=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),r=i.length>3?i.length%3:0;return o+(r?i.substr(0,r)+n:"")+i.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-i).toFixed(t).slice(2):"")}catch(e){console.log(e)}},e(document).ready(function(e){n.startMiniCart(),n.setAccionsMinicart(),n.eventSelectCantidad()}),n}}(jQuery),function(e){var t={elementsFormatVtex:[".item__showcase_new__price-bestr"],addSimboloFormat:"$",numeroDecimales:0,caracterDecimal:",",caracterUnidad:"."};e.FORMATVTEX=function(a){var n=this,i=e.extend({},t,a||{});n.startFormatVtex=function(){e.each(i.elementsFormatVtex,function(t,a){var r=e(document).find(a);e.each(r,function(){var t=e(this).text();"string"==typeof t&&(t=(t=(t=t.replace("$","")).replace(",00","")).replace(/\./g,""),e(this).text(i.addSimboloFormat+" "+n.number_format(parseFloat(t),i.numeroDecimales,i.caracterDecimal,i.caracterUnidad)))})})},n.number_format=function(e,t=2,a=",",n="."){try{t=null==t?2:t,a=null==a?".":a,n=null==n?",":n,t=Math.abs(t),t=isNaN(t)?2:t;const o=e<0?"-":"";var i=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),r=i.length>3?i.length%3:0;return o+(r?i.substr(0,r)+n:"")+i.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-i).toFixed(t).slice(2):"")}catch(e){console.log(e)}},n.startFormatVtex()}}(jQuery);